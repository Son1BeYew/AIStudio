<header>
  <nav>
    <div
      class="logo"
      style="cursor: pointer"
      onclick="window.location.href='/'"
    >
      <img src="/assets/images/logo.png" alt="EternaPic Studio Logo" />
      <strong>EternaPic Studio</strong>
    </div>
    <div class="nav-links">
      <a href="/">Giới thiệu</a>
      <a href="/trends.html" onmouseenter="prefetchTrends()">Xu hướng</a>
      <a href="/pricing.html">Bảng giá</a>
      <a href="mailto:support@eternapicsht.com">Liên hệ</a>
    </div>
    <div class="auth" id="auth-section">
      <button class="primary1" onclick="window.location.href='/login.html'">
        Đăng Nhập
      </button>
    </div>
  </nav>
</header>
<script>
  // Prefetch trends data khi hover vào link
  let trendsPrefetched = false;
  function prefetchTrends() {
    if (trendsPrefetched) return;
    trendsPrefetched = true;

    fetch('/api/trends/popular')
      .then(r => r.json())
      .then(trends => {
        sessionStorage.setItem('trendsCache', JSON.stringify(trends));
        sessionStorage.setItem('trendsCacheTime', Date.now().toString());
        // Preload images
        trends.forEach(t => {
          if (t.image) {
            const img = new Image();
            img.src = t.image;
          }
        });
        console.log('✅ Trends prefetched');
      })
      .catch(() => {});
  }

  // Prefetch collections data khi hover vào link
  let collectionsPrefetched = false;
  function prefetchCollections() {
    if (collectionsPrefetched) return;
    collectionsPrefetched = true;

    fetch('/api/collections')
      .then(r => r.json())
      .then(collections => {
        sessionStorage.setItem('collectionsCache', JSON.stringify(collections));
        sessionStorage.setItem('collectionsCacheTime', Date.now().toString());
        console.log('✅ Collections prefetched');
      })
      .catch(() => {});
  }
</script>
  