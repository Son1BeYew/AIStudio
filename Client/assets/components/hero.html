<section class="hero">
  <img src="/assets/images/anh2_trangchu.jpg" alt="Ảnh bên trái" class="hero-image left" />

  <div class="hero-content scroll-fade-in-up">
    <h1>Biến hình ảnh trở thành<br />tác phẩm nghệ thuật</h1>
    <p>
      Tạo ra những hình ảnh tuyệt đẹp chỉ từ những hình ảnh đơn giản.<br />
      AI của chúng tôi biến trí tưởng tượng của bạn thành hiện thực với chất
      lượng chuyên nghiệp chỉ trong vài giây.
    </p>
    <div class="buttons">
      <button class="primary" onclick="redirectToGenImage()">Bắt Đầu Tạo</button>
      <button class="secondary" onmouseenter="prefetchCollections()" onclick="window.location.href='bo-suu-tap.html'">Xem Bộ Sưu Tập</button>
    </div>
  </div>
  <img src="/assets/images/anh3_trangchu.jpg" alt="Ảnh bên phải" class="hero-image right" />
</section>
<script>
  // Prefetch collections data khi hover vào button
  let collectionsPrefetched = false;
  function prefetchCollections() {
    if (collectionsPrefetched) return;
    collectionsPrefetched = true;

    fetch('/api/collections?sort=latest&page=1&limit=50')
      .then(r => r.json())
      .then(result => {
        if (result.success) {
          sessionStorage.setItem('collectionsCache', JSON.stringify(result));
          sessionStorage.setItem('collectionsCacheTime', Date.now().toString());
          // Preload images
          result.data.forEach(c => {
            if (c.image) {
              const img = new Image();
              img.src = c.image;
            }
          });
          console.log('✅ Collections prefetched');
        }
      })
      .catch(() => {});
  }
</script>