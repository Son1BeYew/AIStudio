<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tạo ảnh | EternaPicSHT AI</title>
    <link rel="icon" type="image/png" href="/assets/images/logo.png" />
    <link rel="stylesheet" href="assets/css/genImage.css" />
    <link rel="stylesheet" href="/assets/css/styles.css" />
    <link rel="stylesheet" href="/assets/css/footer.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="header"></div>

    <!-- Tab Navigation -->
    <div class="tab-navigation">
      <button class="tab-button active" data-tab="ascii-art">
        <span class="tab-icon"></span>Tạo ảnh cá nhân
      </button>
      <button class="tab-button" data-tab="background">
        <span class="tab-icon"></span>Tạo ảnh khung cảnh
      </button>
      <button class="tab-button" data-tab="outfit">
        <span class="tab-icon"></span>Đổi trang phục và kiểu tóc
      </button>
      <button class="tab-button" data-tab="hot-trend">
        <span class="tab-icon"></span>Hot trend
      </button>
    </div>

    <div class="container">
      <!-- ASCII Art Tab -->
      <div class="tab-content active" id="ascii-art-tab">
        <div class="content-wrapper">
          <!-- Upload Section -->
          <div class="upload-box">
            <h3>Tải ảnh</h3>
            <div class="upload-area" id="upload-area">
              <div class="upload-content">
                <p><strong>Kéo thả hoặc tải ảnh tại đây</strong></p>
                <p class="small">hoặc nhấn để chọn tệp</p>
                <input type="file" id="file-input" hidden accept="image/*" />
                <button class="btn" id="choose-btn">Chọn ảnh</button>
              </div>
            </div>
          </div>
          <div class="settings-box">
            <h3>Cài đặt</h3>

            <label>Giới tính</label>
            <select id="gender-select">
              <option value="">Tất cả</option>
              <option value="male">Nam</option>
              <option value="female">Nữ</option>
              <option value="unisex">Unisex</option>
            </select>

            <label>Gói ảnh</label>
            <div class="model-dropdown" id="model-selection">
              <div class="model-dropdown-trigger" id="model-dropdown-trigger">
                <div class="selected-model-info">
                  <div class="model-name">Basic AI</div>
                  <div class="model-desc">Miễn phí</div>
                  <div class="model-badge free">FREE</div>
                </div>
                <div class="dropdown-arrow">▼</div>
              </div>
              <div class="model-dropdown-menu" id="model-dropdown-menu">
                <!-- Models will be populated by JavaScript based on user's plan -->
              </div>
            </div>

            <label>Chế độ ảnh</label>
            <select id="prompt-select">
              <option value="" disabled selected hidden>Chọn chế độ ảnh</option>
            </select>
            <button class="download-btn" id="generate-btn">
              <span></span>Tạo ảnh
            </button>
          </div>
          <div class="output-box">
            <h3>Kết quả</h3>
            <div class="output-area" id="output-area">
              <div class="output-placeholder">
                <p>Ảnh sẽ xuất hiện tại đây</p>
              </div>
            </div>
            <div class="output-info" id="output-info" style="display: none">
              <p>
                <strong>Chế độ:</strong> <span id="output-prompt-name"></span>
              </p>
              <p>
                <strong>Mô tả:</strong> <span id="output-prompt-title"></span>
              </p>
            </div>
            <button
              class="download-btn download-result"
              id="download-btn"
              style="display: none"
            >
              <span></span>Tải ảnh
            </button>
          </div>
        </div>
      </div>

      <!-- Background Image Tab -->
      <div class="tab-content" id="background-tab">
        <div class="content-wrapper">
          <div class="settings-box" style="margin-left: 200px">
            <h3>Tạo Bối Cảnh Từ Prompt</h3>

            <label>Gói ảnh</label>
            <div class="model-dropdown" id="bg-model-selection">
              <div
                class="model-dropdown-trigger"
                id="bg-model-dropdown-trigger"
              >
                <div class="selected-model-info">
                  <div class="model-name">Basic AI</div>
                  <div class="model-desc">Miễn phí</div>
                  <div class="model-badge free">FREE</div>
                </div>
                <div class="dropdown-arrow">▼</div>
              </div>
              <div class="model-dropdown-menu" id="bg-model-dropdown-menu">
                <!-- Models will be populated by JavaScript based on user's plan -->
              </div>
            </div>

            <label>Mô tả bối cảnh bạn muốn tạo</label>
            <textarea
              id="bg-prompt-input"
              placeholder="Ví dụ: một bức tường xám sáng đẹp, phong cách chuyên nghiệp, studio lighting, suitable for portrait background..."
              rows="6"
            ></textarea>

            <div class="bg-suggestions">
              <h4>Gợi ý viết:</h4>
              <ul>
                <li>Bức tường xám sáng chuyên nghiệp với studio lighting</li>
                <li>Phong cảnh thiên nhiên đẹp với núi và hồ nước</li>
                <li>Thành phố hiện đại vào ban đêm với ánh đèn neon</li>
                <li>Không gian nội thất sang trọng với đồ decor</li>
                <li>Bầu trời xanh mây trắng với ánh nắng mặt trời</li>
              </ul>
            </div>

            <button class="download-btn" id="bg-generate-btn">
              <span></span>Tạo Bối Cảnh
            </button>
          </div>

          <div class="output-box" style="margin-left: 250px">
            <h3>Kết quả</h3>
            <div class="output-area" id="bg-output-area">
              <div class="output-placeholder">
                <p>Ảnh sẽ xuất hiện tại đây</p>
              </div>
            </div>
            <button
              class="download-btn download-result"
              id="bg-download-btn"
              style="display: none"
            >
              <span></span>Tải ảnh
            </button>
          </div>
        </div>
      </div>

      <!-- Outfit Tab -->
      <div class="tab-content" id="outfit-tab">
        <div class="content-wrapper">
          <div class="upload-box">
            <h3>Tải ảnh người</h3>
            <div class="upload-area" id="outfit-upload-area">
              <div class="upload-content">
                <p><strong>Kéo thả hoặc tải ảnh tại đây</strong></p>
                <p class="small">hoặc nhấn để chọn tệp</p>
                <input
                  type="file"
                  id="outfit-file-input"
                  hidden
                  accept="image/*"
                />
                <button class="btn" id="outfit-choose-btn">Chọn ảnh</button>
              </div>
            </div>
          </div>

          <div class="upload-box">
            <h3>Tải ảnh quần áo</h3>
            <div class="upload-area" id="clothing-upload-area">
              <div class="upload-content">
                <p><strong>Kéo thả hoặc tải ảnh quần áo tại đây</strong></p>
                <p class="small">hoặc nhấn để chọn tệp</p>
                <input
                  type="file"
                  id="clothing-file-input"
                  hidden
                  accept="image/*"
                />
                <button class="btn" id="clothing-choose-btn">Chọn ảnh</button>
              </div>
            </div>
          </div>

          <div class="settings-box">
            <h3>Cài đặt</h3>

            <label>Gói ảnh</label>
            <div class="model-dropdown" id="outfit-model-selection">
              <div
                class="model-dropdown-trigger"
                id="outfit-model-dropdown-trigger"
              >
                <div class="selected-model-info">
                  <div class="model-name">Basic AI</div>
                  <div class="model-desc">Miễn phí</div>
                  <div class="model-badge free">FREE</div>
                </div>
                <div class="dropdown-arrow">▼</div>
              </div>
              <div class="model-dropdown-menu" id="outfit-model-dropdown-menu">
                <!-- Models will be populated by JavaScript based on user's plan -->
              </div>
            </div>

            <label>Giới tính</label>
            <select id="outfit-gender-select">
              <option disabled selected hidden value="">Chọn giới tính</option>
              <option value="male">Nam</option>
              <option value="female">Nữ</option>
            </select>

            <label>Loại trang phục/tóc</label>
            <select id="outfit-type-select" disabled>
              <option disabled selected hidden value="">Chọn loại</option>
            </select>

            <label>Kiểu tóc</label>
            <select id="outfit-hairstyle-select" disabled>
              <option disabled selected hidden value="">Chọn kiểu tóc</option>
            </select>

            <label>Mô tả chi tiết</label>
            <textarea
              id="outfit-description"
              placeholder="Mô tả chi tiết về trang phục/tóc mà bạn muốn..."
              rows="4"
            ></textarea>

            <button class="download-btn" id="outfit-generate-btn">
              <span></span>Thay đổi
            </button>
          </div>

          <div class="output-box">
            <h3>Kết quả</h3>
            <div class="output-area" id="outfit-output-area">
              <div class="output-placeholder">
                <p>Ảnh sẽ xuất hiện tại đây</p>
              </div>
            </div>
            <button
              class="download-btn download-result"
              id="outfit-download-btn"
              style="display: none"
            >
              <span></span>Tải ảnh
            </button>
          </div>
        </div>
      </div>

      <!-- Hot Trend Tab -->
      <div class="tab-content" id="hot-trend-tab">
        <div class="content-wrapper-trends">
          <div class="trends-section">
            <h3>NHỮNG PHONG CÁCH HOT TREND HIỆN NAY</h3>
            <div class="trends-grid" id="trendsGrid"></div>
          </div>

          <div
            class="trend-creator-section"
            id="trendCreatorSection"
            style="display: none"
          >
            <div class="content-wrapper">
              <!-- Upload Section -->
              <div class="upload-box">
                <h3>Tải ảnh</h3>
                <div class="upload-area" id="trend-upload-area">
                  <div class="upload-content">
                    <p><strong>Kéo thả hoặc tải ảnh tại đây</strong></p>
                    <p class="small">hoặc nhấn để chọn tệp</p>
                    <input
                      type="file"
                      id="trend-file-input"
                      hidden
                      accept="image/*"
                    />
                    <button class="btn" id="trend-choose-btn">Chọn ảnh</button>
                  </div>
                </div>
              </div>

              <!-- Settings Section -->
              <div class="settings-box">
                <h3>Cài đặt</h3>
                <label>Các phong cách</label>
                <div
                  id="trend-selected-style"
                  style="
                    padding: 10px;
                    background: #f0f0f0;
                    border-radius: 6px;
                    margin-bottom: 15px;
                    font-weight: 500;
                  "
                >
                  Chưa chọn
                </div>

                <label>Mô tả thêm (tùy chọn)</label>
                <textarea
                  id="trend-additional-desc"
                  placeholder="Thêm mô tả chi tiết để tạo ra kết quả tốt hơn..."
                  rows="3"
                  style="margin-bottom: 15px"
                ></textarea>

                <button class="download-btn" id="trend-generate-btn">
                  <span></span>Tạo ảnh
                </button>

                <button
                  class="download-btn"
                  onclick="resetTrendCreator()"
                  style="background-color: #999; margin-top: 8px"
                >
                  <span></span>Chọn phong cách khác
                </button>
              </div>

              <!-- Output Section -->
              <div class="output-box">
                <h3>Kết Quả</h3>
                <div class="output-area" id="trend-output-area">
                  <div class="output-placeholder">
                    <p>Ảnh sẽ xuất hiện tại đây</p>
                  </div>
                </div>
                <button
                  class="download-btn download-result"
                  id="trend-download-btn"
                  style="display: none"
                >
                  <span></span>Tải ảnh
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="/assets/js/genImage.js"></script>

    <!-- Quick Guide Section -->
    <div class="quick-guide">
      <!-- SVG Gradients Definition -->
      <svg width="0" height="0" style="position: absolute;">
        <defs>
          <linearGradient id="iconGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
          </linearGradient>
          <linearGradient id="cardIconGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
          </linearGradient>
        </defs>
      </svg>
      
      <div class="guide-container">
        <div class="guide-header">
          <div class="guide-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
          </div>
          <h3>Hướng dẫn sử dụng nhanh</h3>
          <p class="guide-subtitle">Làm theo các bước đơn giản để tạo ảnh AI chuyên nghiệp</p>
        </div>
        
        <div class="guide-grid">
          <!-- Tạo ảnh cá nhân -->
          <div class="guide-card">
            <div class="guide-card-header">
              <span class="guide-number">01</span>
              <h4>
                <svg class="card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
                Tạo ảnh cá nhân
              </h4>
            </div>
            <div class="guide-steps">
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="17 8 12 3 7 8"></polyline>
                    <line x1="12" y1="3" x2="12" y2="15"></line>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Tải ảnh lên</strong>
                  <p>Chọn hoặc kéo thả ảnh của bạn vào khung tải ảnh</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M12 1v6m0 6v6m8.66-11.66l-5.2 3m-6.92 4l-5.2 3M1.34 12.34l5.2-3m6.92-4l5.2-3"></path>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Chọn cài đặt</strong>
                  <p>Chọn giới tính, gói ảnh và chế độ ảnh phù hợp</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Tạo ảnh</strong>
                  <p>Nhấn nút "Tạo ảnh" và chờ AI xử lý (1-3 phút)</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7 10 12 15 17 10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Tải về</strong>
                  <p>Nhấn "Tải ảnh" để lưu kết quả về máy</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Tạo ảnh bối cảnh -->
          <div class="guide-card">
            <div class="guide-card-header">
              <span class="guide-number">02</span>
              <h4>
                <svg class="card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                  <circle cx="8.5" cy="8.5" r="1.5"></circle>
                  <polyline points="21 15 16 10 5 21"></polyline>
                </svg>
                Tạo ảnh khung cảnh
              </h4>
            </div>
            <div class="guide-steps">
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="23 4 23 10 17 10"></polyline>
                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Chuyển tab</strong>
                  <p>Chọn tab "Tạo ảnh khung cảnh" ở trên</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Mô tả bối cảnh</strong>
                  <p>Viết chi tiết về khung cảnh bạn muốn tạo</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Chọn gói ảnh</strong>
                  <p>Lựa chọn gói AI phù hợp với nhu cầu</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 16 16 12 12 8"></polyline>
                    <line x1="8" y1="12" x2="16" y2="12"></line>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Tạo & Tải về</strong>
                  <p>Nhấn "Tạo Bối Cảnh" và tải ảnh khi hoàn thành</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Đổi trang phục -->
          <div class="guide-card">
            <div class="guide-card-header">
              <span class="guide-number">03</span>
              <h4>
                <svg class="card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                  <circle cx="8.5" cy="7" r="4"></circle>
                  <polyline points="17 11 19 13 23 9"></polyline>
                </svg>
                Đổi trang phục & tóc
              </h4>
            </div>
            <div class="guide-steps">
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
                    <circle cx="12" cy="13" r="4"></circle>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Tải 2 ảnh</strong>
                  <p>Tải ảnh người và ảnh quần áo/tóc mẫu</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Chọn giới tính</strong>
                  <p>Chọn nam/nữ để AI xử lý chính xác hơn</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                    <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                    <path d="M2 2l7.586 7.586"></path>
                    <circle cx="11" cy="11" r="2"></circle>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Chọn kiểu</strong>
                  <p>Chọn loại trang phục và kiểu tóc mong muốn</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Hoàn thành</strong>
                  <p>Nhấn "Thay đổi" và tải ảnh kết quả</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Hot Trend -->
          <div class="guide-card">
            <div class="guide-card-header">
              <span class="guide-number">04</span>
              <h4>
                <svg class="card-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"></path>
                </svg>
                Hot Trend
              </h4>
            </div>
            <div class="guide-steps">
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Chọn phong cách</strong>
                  <p>Duyệt và chọn phong cách hot trend yêu thích</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="17 8 12 3 7 8"></polyline>
                    <line x1="12" y1="3" x2="12" y2="15"></line>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Tải ảnh gốc</strong>
                  <p>Tải ảnh của bạn lên để áp dụng phong cách</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="2" x2="22" y2="6"></line>
                    <path d="M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"></path>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Mô tả thêm</strong>
                  <p>Thêm chi tiết để kết quả chính xác hơn (tùy chọn)</p>
                </div>
              </div>
              <div class="guide-step">
                <span class="step-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="18" cy="5" r="3"></circle>
                    <circle cx="6" cy="12" r="3"></circle>
                    <circle cx="18" cy="19" r="3"></circle>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                  </svg>
                </span>
                <div class="step-content">
                  <strong>Tạo & Chia sẻ</strong>
                  <p>Tạo ảnh và chia sẻ với bạn bè</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="guide-tips">
          <div class="tip-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 18h6"></path>
              <path d="M10 22h4"></path>
              <path d="M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0 0 18 8 6 6 0 0 0 6 8c0 1 .23 2.23 1.5 3.5A4.61 4.61 0 0 1 8.91 14"></path>
            </svg>
          </div>
          <div class="tip-content">
            <strong>Mẹo nhỏ:</strong>
            <span>Sử dụng ảnh chất lượng cao và mô tả chi tiết để có kết quả tốt nhất. Mỗi lần tạo ảnh mất khoảng 1-3 phút tùy vào độ phức tạp.</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Confirmation Dialog -->
    <div id="confirmDialog" class="confirm-modal hidden">
      <div class="confirm-overlay" onclick="closeConfirmDialog()"></div>
      <div class="confirm-content">
        <div class="confirm-header">
          <h3 id="confirmTitle">Xác nhận tạo ảnh</h3>
          <button class="confirm-close" onclick="closeConfirmDialog()">
            ✕
          </button>
        </div>
        <div class="confirm-body">
          <p id="confirmMessage">Bạn chắc chắn muốn tạo ảnh?</p>
          <div class="price-section">
            <!-- Daily free quota section -->
            <div
              id="freeQuotaSection"
              class="free-quota-section"
              style="display: none"
            >
              <div class="quota-badge">
                <span id="quotaText"
                  >Còn <strong id="remainingFree">0</strong>/<span id="maxFree"
                    >0</span
                  >
                  lượt miễn phí hôm nay</span
                >
              </div>
              <div class="quota-note" id="quotaNote"></div>
            </div>
            <div class="price-row">
              <span>Giá tiền:</span>
              <strong id="confirmPrice">0 VND</strong>
            </div>
            <div class="price-row">
              <span>Số dư hiện tại:</span>
              <strong id="confirmBalance">0 VND</strong>
            </div>
          </div>
        </div>
        <div class="confirm-actions">
          <button class="btn-cancel" onclick="closeConfirmDialog()">Hủy</button>
          <button class="btn-confirm" onclick="proceedGenerate()">
            Xác nhận
          </button>
        </div>
      </div>
    </div>

    <div id="footer"></div>
    <script src="/assets/js/auth-utils.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/toast-modal.js"></script>
    <script src="/assets/js/floating-chat-loader.js"></script>

    <style>
      .login-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
      }

      .login-modal.hidden {
        display: none !important;
      }

      .modal-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
      }

      .modal-content {
        position: relative;
        background: white;
        border-radius: 12px;
        padding: 40px;
        max-width: 400px;
        text-align: center;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        animation: slideIn 0.3s ease;
      }

      .modal-close {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        font-size: 32px;
        cursor: pointer;
        color: #999;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: background 0.2s, color 0.2s;
      }

      .modal-close:hover {
        background: #f3f4f6;
        color: #333;
      }

      .modal-icon {
        font-size: 48px;
        margin-bottom: 16px;
      }

      .modal-content h2 {
        font-size: 20px;
        color: #1f2937;
        margin: 0 0 12px 0;
      }

      .modal-content p {
        color: #6b7280;
        margin: 0 0 24px 0;
        font-size: 14px;
      }

      .modal-btn-login {
        display: inline-block;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 12px 32px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 500;
        transition: transform 0.2s, box-shadow 0.2s;
      }

      .modal-btn-login:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>

    <script src="/assets/js/genImage.js"></script>
  </body>
</html>
